

1.æŠ¥é”™Make sure that `gem install unf_ext -v '0.0.7.6'` succeeds before bundling.
ä½¿ç”¨bundle install


RVMå®‰è£…ã€è‡ªåŠ¨åŒ–æ‰“åŒ…Fastlaneå®‰è£…ï¼ŒiOSä¼ä¸šçº§è‡ªåŠ¨åŒ–æ‰“åŒ…
å®‰è£…Fastlane ç¯å¢ƒ

ã€€ã€€fastlaneçš„git https://github.com/fastlane

ã€€ã€€fastlaneç›¸å…³æ–‡æ¡£ https://docs.fastlane.tools

ã€€ã€€æœ¬æœºç¯å¢ƒå¦‚ä¸‹å›¾ï¼š

ã€€ã€€

ã€€ã€€æ‰€ä½¿ç”¨çš„æ˜¯Xcode9ï¼›

ä¸€ã€é¦–å…ˆéœ€è¦å®‰è£…rvm
ã€€ã€€RVM æ˜¯ä¸€ä¸ªå‘½ä»¤è¡Œå·¥å…·ï¼Œå¯ä»¥æä¾›ä¸€ä¸ªä¾¿æ·çš„å¤šç‰ˆæœ¬ Ruby ç¯å¢ƒçš„ç®¡ç†å’Œåˆ‡æ¢ã€‚

ã€€ã€€1 ã€å®‰è£…å‘½ä»¤

ã€€ã€€ã€€ã€€$ curl -L get.rvm.io | bash -s stable

ã€€ã€€ã€€ã€€ç»“æœï¼š

ã€€ã€€ã€€ã€€

ã€€ã€€2ã€æŒ‡å®šæº

ã€€ã€€ã€€ã€€$ source ~/.rvm/scripts/rvm

ã€€ã€€3ã€æ£€æŸ¥ä¸€ä¸‹æ˜¯å¦å®‰è£…æ­£ç¡®ï¼Œæ­£ç¡®ä¼šæ˜¾ç¤ºç‰ˆæœ¬å·ï¼Œå¦‚ä¸‹å›¾çš„1.29.3ç‰ˆæœ¬

ã€€ã€€ã€€ã€€ $ rvm -v

ã€€   ã€€ã€€ã€€

ã€€ã€€4ã€ç”¨ RVM å®‰è£… Ruby ç¯å¢ƒ

ã€€ã€€ï¼ˆ1ï¼‰åˆ—å‡ºå·²çŸ¥çš„rubyç‰ˆæœ¬
ã€€ã€€ã€€ã€€ $ rvm list known
ã€€ã€€ã€€ã€€  
ã€€ã€€ (2)å¯ä»¥é€‰æ‹©ç°æœ‰çš„rvmç‰ˆæœ¬æ¥è¿›è¡Œå®‰è£…ï¼ˆä¸‹é¢ä»¥rvm 2.3.0ç‰ˆæœ¬çš„å®‰è£…ä¸ºä¾‹ï¼‰å»ºè®®2.3.0åŠä»¥ä¸Šç‰ˆæœ¬ï¼Œ2.0.0ç‰ˆæœ¬å®‰è£…fastlaneä¸­ä¼šå‡ºç°é—®é¢˜ï¼Œç­‰å¾…ä¸‹è½½ã€‚ã€€ã€€
ã€€ã€€ã€€$ rvm install 2.3.0ã€€ã€€
ã€€å¯èƒ½é‡åˆ°çš„é—®é¢˜ï¼šå¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œæç¤ºError runningâ€˜xxxâ€™ï¼Œå¹¶æç¤ºæŸ¥çœ‹logæ–‡ä»¶ï¼Œè¿™é‡ŒæŸ¥è¯¢æ–‡ä»¶æç¤ºé”™è¯¯æ˜¯brew å‡ºé”™ã€‚
ã€€ã€€
ã€€ã€€è§£å†³æ–¹æ³•ï¼š
ã€€ã€€$ brew update
ã€€ã€€æ›´æ–°çš„æ—¶å€™å¯èƒ½æç¤ºErrorï¼š/usr/local must be writable!
ã€€ã€€ 
ã€€ã€€è¿™é‡Œéœ€è¦å…ˆæ›´æ”¹å¯å†™æƒé™ï¼š
ã€€ã€€$sudo chown -R å½“å‰Macç™»å½•çš„ç”¨æˆ·å /usr/local
ã€€ã€€ä¾‹å¦‚ï¼š$sudo chown -R Datacvg /usr/local
ã€€ã€€å†æ‰§è¡Œï¼š$ brew update
ã€€ã€€æˆåŠŸåå†æ‰§è¡Œ$ rvm install 2.3.0
ã€€ã€€ç»“æœï¼š
ã€€ã€€
ã€€ã€€ (3)æŸ¥è¯¢å·²ç»å®‰è£…çš„ruby,è¿™é‡Œæˆ‘åªå®‰è£…äº†2.3.0ç‰ˆæœ¬
ã€€ã€€$ rvm list
ã€€ã€€
ã€€ã€€ (4)å¸è½½ä¸€ä¸ªå·²å®‰è£…ç‰ˆæœ¬ 

  ã€€ã€€   $ rvm remove 1.9.2
ã€€ã€€5ã€è®¾ç½® Ruby ç‰ˆæœ¬

ã€€ã€€ï¼ˆ1ï¼‰RVM è£…å¥½ä»¥åï¼Œéœ€è¦æ‰§è¡Œä¸‹é¢çš„å‘½ä»¤å°†æŒ‡å®šç‰ˆæœ¬çš„ Ruby è®¾ç½®ä¸ºç³»ç»Ÿé»˜è®¤ç‰ˆæœ¬ï¼Œå¦‚æœåªæœ‰ä¸€ä¸ªç‰ˆæœ¬å°±ä¸ç”¨è®¾ç½®é»˜è®¤äº†
ã€€ã€€ã€€ã€€$ rvm 2.3.0 --default
ã€€ã€€ï¼ˆ2ï¼‰æµ‹è¯•rubyç‰ˆæœ¬æ˜¯å¦æ­£ç¡®
ã€€ã€€ã€€ã€€$ ruby -v
ã€€ã€€
ã€€ã€€ï¼ˆ3ï¼‰æŸ¥çœ‹gemç‰ˆæœ¬
ã€€ã€€ã€€ã€€$ gem -v
ã€€ã€€
ã€€ã€€6ã€æ›´æ¢æº

ã€€è¿™æœ‰å¯èƒ½æ˜¯å› ä¸ºRubyçš„é»˜è®¤æºä½¿ç”¨çš„æ˜¯cocoapods.orgï¼Œå›½å†…è®¿é—®è¿™ä¸ªç½‘å€æœ‰æ—¶å€™ä¼šæœ‰é—®é¢˜ï¼Œç½‘ä¸Šçš„ä¸€ç§è§£å†³æ–¹æ¡ˆæ˜¯å°†è¿œæ›¿æ¢æˆæ·˜å®çš„ï¼Œæ›¿æ¢æ–¹å¼å¦‚ä¸‹ï¼š
ã€€$ gem source -r https://rubygems.org/
ã€€$ gem source -a https://ruby.taobao.org ç›®å‰https://gems.ruby-china.org/
 ã€€è¦æƒ³éªŒè¯æ˜¯å¦æ›¿æ¢æˆåŠŸäº†ï¼Œå¯ä»¥æ‰§è¡Œï¼š
ã€€$ gem sources -l  
ã€€æ­£å¸¸çš„è¾“å‡ºç»“æœï¼š
ã€€
ã€€åˆ°è¿™é‡Œå°±å·²ç»æŠŠRubyç¯å¢ƒæˆåŠŸçš„å®‰è£…åˆ°äº†Mac OS Xä¸Šã€‚
äºŒã€fastlaneå®‰è£…
ã€€ã€€1ã€ç¡®ä¿ä½ çš„Xcodeå‘½ä»¤è¡Œå·¥å…·çš„æœ€æ–°ç‰ˆæœ¬å®‰è£…ï¼š

å‘½ä»¤ï¼šxcode-select --install
å¦‚æœå·²ç»å®‰è£…ä¼šæœ‰æç¤ºå·²ç»å®‰è£…ï¼š

2ã€å®‰è£…fastlane

https://docs.fastlane.tools
å®˜æ–¹æä¾›äº†ä¸‰ç§å®‰è£…æ–¹å¼ï¼š

 
ç¬¬ä¸€ç§ï¼šé€šè¿‡Homebrewï¼Œå¦‚æœfastlaneä¸jenkinsç»“åˆä½¿ç”¨å¯ä»¥ä½¿ç”¨brewå®‰è£…ï¼Œå…ˆå®‰è£…homebrewï¼Œåœ¨å®‰è£…fastlaneï¼Œç„¶å®‰è£…jenkinsï¼Œfastlaneä¸jenkinsç»“åˆä½¿ç”¨ã€‚
ç¬¬äºŒç§ï¼šä¸‹è½½fastlaneåŒ…ï¼Œè¿è¡ŒåŒ…é‡Œé¢installè¿›è¡Œå®‰è£…ï¼Œæ‰§è¡Œinstallçš„æ—¶å€™ä¼šè¢«é˜»æ­¢ï¼Œéœ€è¦åœ¨å®‰å…¨æ€§ä¸éšç§è®¾ç½®ï¼Œè¿˜æœ‰ä¸€ä¸ªé—®é¢˜ä¸‹è½½çš„åŒ…å¯èƒ½ä¸æ˜¯æœ€æ–°ç‰ˆï¼Œåœ¨ä½¿ç”¨çš„æ—¶å€™æç¤ºè¦æ›´æ–°ï¼Œè¿™é‡Œæ›´æ–°æ²¡æœ‰æˆåŠŸï¼Œæ‰€ä»¥ä¸å»ºè®®ä½¿ç”¨ã€‚
ç¬¬ä¸‰ç§ï¼šæœ¬æ–‡ä½¿ç”¨çš„æ–¹æ³•ï¼Œå®‰è£…rubyä¹‹åï¼Œåœ¨å‘½ä»¤è¡Œè¾“å…¥ï¼š
sudo gem install fastlane -NV
å³å¯å®‰è£…ï¼Œå®‰è£…å®Œæˆåæ‰§è¡Œï¼š
fastlane -v
å¯æŸ¥è¯¢å½“å‰å®‰è£…ç‰ˆæœ¬ï¼š

 ä¸‰ã€é¡¹ç›®ä½¿ç”¨fastlane
1ã€åœ¨ç»ˆç«¯æ‰“å¼€ä½ çš„iOSé¡¹ç›®æ–‡ä»¶.xcodeprojæ‰€åœ¨çš„æ–‡ä»¶å¤¹
ã€€ã€€cd xxx
ã€€ã€€æ‰§è¡Œfastlaneåˆå§‹åŒ–ï¼Œå‘½ä»¤ï¼š
ã€€ã€€fastlane init
ã€€ã€€ä¼šå‡ºç°ä¸€ä¸‹æç¤ºï¼šæƒ³è¦åšä»€ä¹ˆï¼Ÿå› ä¸ºè¦æ‰“åŒ…ä¼ä¸šçº§é¡¹ç›®æ‰€ä»¥è¿™é‡Œé€‰æ‹©4ï¼Œ å¦‚æœé€‰æ‹©3ï¼Œéœ€è¦è¾“å…¥Apple IDç­‰ç›¸å…³ä¿¡æ¯ï¼Œå¦‚æœIDæ˜¯ä¼ä¸šçº§è´¦å·ä¼šæç¤ºinit å¤±è´¥ã€‚
ã€€ã€€

   What would you like to use fastlane for?
1. ğŸ“¸  Automate screenshots   
2. ğŸ‘©â€âœˆï¸  Automate beta distribution to TestFlight
3. ğŸš€  Automate App Store distribution   æ¥ç€ä¼šæç¤ºä½ è¾“å…¥å¼€å‘è€…è´¦å·å’Œå¯†ç 
4. ğŸ›   Manual setup - manually setup your project to automate your tasks æ‰“åŒ…ä¼ä¸šçº§é¡¹ç›®
?  


1. è‡ªåŠ¨æˆªå±ã€‚è¿™ä¸ªåŠŸèƒ½èƒ½å¸®æˆ‘ä»¬è‡ªåŠ¨æˆªå–APPä¸­çš„æˆªå›¾ï¼Œå¹¶æ·»åŠ æ‰‹æœºè¾¹æ¡†ï¼ˆå¦‚æœéœ€è¦çš„è¯ï¼‰ï¼Œæˆ‘ä»¬è¿™é‡Œä¸é€‰æ‹©è¿™ä¸ªé€‰é¡¹ï¼Œå› ä¸ºæˆ‘ä»¬çš„é¡¹ç›®å·²ç»æœ‰å›¾ç‰‡äº†ï¼Œä¸éœ€è¦è¿™é‡Œæˆªå±ã€‚
2. è‡ªåŠ¨å‘å¸ƒbetaç‰ˆæœ¬ç”¨äºTestFlightï¼Œå¦‚æœå¤§å®¶æœ‰å¯¹TestFlightä¸äº†è§£çš„ï¼Œå¯ä»¥å‚è€ƒç‹å·å†™çš„è¿™ç¯‡æ–‡ç« 
3. è‡ªåŠ¨çš„App Storeå‘å¸ƒåŒ…ã€‚æˆ‘ä»¬çš„ç›®æ ‡æ˜¯è¦æäº¤å®¡æ ¸åˆ°APP Storeï¼ŒæŒ‰é“ç†åº”è¯¥é€‰è¿™ä¸ªï¼Œä½†è¿™é‡Œæˆ‘ä»¬å…ˆä¸é€‰ï¼Œå› ä¸ºé€‰æ‹©äº†ä»¥åä¼šéœ€è¦è¾“å…¥ç”¨æˆ·åå¯†ç ï¼Œä»¥åŠä¸‹è½½metaä¿¡æ¯ï¼Œéœ€è¦èŠ±è´¹ä¸€å®šæ—¶é—´ï¼Œè¿™äº›æ•°æ®æˆ‘ä»¬å¯ä»¥åæœŸè¿›è¡Œé…ç½®ã€‚
4. æ‰‹åŠ¨è®¾ç½®ã€‚

ä½œè€…ï¼šLYPC_ä¸‹é‡Œå·´äºº
é“¾æ¥ï¼šhttps://www.jianshu.com/p/cdf580a4cd67
æ¥æºï¼šç®€ä¹¦
ç®€ä¹¦è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ï¼Œä»»ä½•å½¢å¼çš„è½¬è½½éƒ½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒå¹¶æ³¨æ˜å‡ºå¤„ã€‚

 
ã€€ã€€é€‰æ‹©4ä¹‹åï¼Œä¼šæç¤ºå›è½¦ç»§ç»­ï¼Œå®Œæˆä¹‹åé¡¹ç›®æ–‡ä»¶å¤¹ä¸­ä¼šå¤šå‡ºä¸€ä¸ªfastlaneæ–‡ä»¶å¤¹ï¼Œæ–‡ä»¶ä¸­åŒ…å«Appfileï¼ŒFastfileä¸¤ä¸ªæ–‡ä»¶
ã€€ã€€åˆ†åˆ«å¯¹ä¸¤ä¸ªæ–‡ä»¶çš„å†…å®¹è®¾ç½®ï¼š
ã€€ã€€
ã€€ã€€Appfileï¼šä¸»è¦æ˜¯app_identifierå’Œapple_id
ã€€ã€€
ã€€ã€€
ã€€ã€€Fastfileï¼š
ã€€ã€€
 
ã€€ã€€éƒ½é…ç½®å®Œæˆä¹‹åï¼Œåœ¨ç»ˆç«¯è¾“å…¥
ã€€ã€€fastlane ios enterprise 
ã€€ã€€æ‰§è¡Œå¼€å§‹æ‰“åŒ…ï¼Œè¿™é‡Œios enterprise æ˜¯laneçš„Nameï¼Œå¦‚æœæ‰§è¡Œé”™è¯¯ï¼Œä¼šæœ‰æç¤º.
ã€€ã€€å¦‚æœæ‰§è¡Œåæç¤ºgymå‘½ä»¤ç›¸å…³çš„é”™è¯¯
fastlane gym produces error: method `to_plist' not defined in Array #11503
ã€€ã€€å¯ä»¥å‚è€ƒï¼š
https://github.com/fastlane/fastlane/issues/11503

æ–¹æ³•ç»ˆç«¯å‘½ä»¤ï¼š

1ã€rvm @global do uninstall fastlane

2ã€gem install fastlane

3ã€rvm @global do gem install fastlane

4ã€rvm @global do fastlane action gym

5ã€rvm @global do gem uninstall fastlane 

ã€€ã€€rvm all do gem uninstall fastlane

ã€€ã€€gem uninstall fastlane

6ã€gem install fastlane

ã€€ã€€ä¹‹ååœ¨æ‰“åŒ…çš„æ—¶å€™å°±å¯ä»¥äº†ï¼Œä¸çŸ¥é“åŸç†ï¼š
ã€€ã€€
 
å››ã€é‡åˆ°çš„é”™è¯¯
fastlane init
æŠ¥é”™ Unable to locate Xcode. Please make sure to have Xcode installed on your machine
 
å¯èƒ½åœ¨Xcodeä¸­æ²¡æœ‰è®¾ç½®â€œCommand Line Toolsâ€:æ‰“å¼€Xcodeåå¥½è®¾ç½®ï¼Œé€‰æ‹©"Location"é€‰é¡¹å¡ï¼Œé€‰æ‹©ç›¸åº”çš„â€œCommand Line Toolsâ€å³å¯ã€‚
 
å‚è€ƒæ–‡æ¡£ï¼šhttps://github.com/fastlane
ã€€ã€€ã€€ã€€ã€€https://docs.fastlane.tools
ã€€ã€€ã€€ã€€ã€€https://github.com/fastlane/fastlane/issues/11503
ã€€ã€€ã€€ã€€ã€€https://www.jianshu.com/p/bea091f8448d?_t_t_t=0.4159752886240491





default_platform(:ios)
 
platform :ios do
  desc "Push a new release build to the App Store"
  lane :release do
    build_app(export_method: "app-store",workspace: "CheLingWang.xcworkspace", scheme: "CheLingWang",output_directory:"./build",export_options: {
      provisioningProfiles: { 
        "com.example.bundleid" => "Provisioning Profile Name",    
      }
    })
    deliver(force: true)
    slack(message: "Successfully uploaded a new App Store build")
  end
  desc "Runs all the tests"
  lane :test do
    scan
  end
  desc "ipaæ‰“åŒ…"
  lane :createIpa do
    # sigh(adhoc:true)  #å¦‚æœè¦ä½¿ç”¨ad-hocæ‰“åŒ…, åˆ™éœ€æ‰“å¼€æ­¤é¡¹é…ç½®
    gym(scheme: "CheLingWang",workspace: "CheLingWang.xcworkspace", configuration: "Debug",clean: true, export_method:"development")
    enable_automatic_code_signing(path: "CheLingWang.xcodeproj")
 
    end
  desc "Deploy a test version to the fir.im" 
  lane :firUp do
    createIpa 
    firim(firim_api_token: "ff0c0cf598bac421fac4d9089d126ef4") 
  end
end


react-native-webview
ã€€ã€€ã€€ã€€ã€€